"use strict";
// loaders.gl, MIT license
Object.defineProperty(exports, "__esModule", { value: true });
exports.parseXMLInBatches = exports.fastParseXML = void 0;
const streaming_xml_parser_1 = require("./streaming-xml-parser");
const fast_xml_parser_1 = require("fast-xml-parser");
function fastParseXML(text, options) {
    const parser = new fast_xml_parser_1.XMLParser({
        ignoreAttributes: false,
        attributeNamePrefix: '',
        ...options
    });
    const parsedXML = parser.parse(text);
    return parsedXML;
}
exports.fastParseXML = fastParseXML;
/**
 * @todo Build a streaming XML parser based on sax-js
 * @param text
 * @param options
 * @returns
 */
function parseXMLInBatches(text, options = {}) {
    const parser = new streaming_xml_parser_1.StreamingXMLParser({
        ...options,
        strict: true
    });
    parser.write(text);
    parser.close();
    return parser.result;
}
exports.parseXMLInBatches = parseXMLInBatches;
