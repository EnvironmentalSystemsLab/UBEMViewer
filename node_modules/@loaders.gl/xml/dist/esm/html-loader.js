import { mergeLoaderOptions } from '@loaders.gl/loader-utils';
import { XMLLoader } from './xml-loader';
export const HTMLLoader = {
  ...XMLLoader,
  name: 'HTML',
  id: 'html',
  extensions: ['html', 'htm'],
  mimeTypes: ['text/html'],
  testText: testHTMLFile,
  parse: async (arrayBuffer, options) => parseTextSync(new TextDecoder().decode(arrayBuffer), options),
  parseTextSync: (text, options) => parseTextSync(text, options)
};
function testHTMLFile(text) {
  return text.startsWith('<html');
}
function parseTextSync(text, options) {
  options = mergeLoaderOptions(options, {
    xml: {
      parser: 'fast-xml-parser'
    },
    _fastXML: {
      htmlEntities: true
    }
  });
  return XMLLoader.parseTextSync(text, options);
}
//# sourceMappingURL=html-loader.js.map