{"version":3,"file":"s2-to-obb-points.js","names":["getS2Cell","getS2Region","Vector3","getS2OrientedBoundingBoxCornerPoints","tokenOrKey","heightInfo","min","minimumHeight","max","maximumHeight","s2cell","region","W","west","S","south","E","east","N","north","points","push"],"sources":["../../../../../../src/lib/utils/s2/converters/s2-to-obb-points.ts"],"sourcesContent":["import {getS2Cell} from '../s2geometry/s2-cell-utils';\nimport {getS2Region} from './s2-to-region';\nimport {Vector3} from '@math.gl/core';\n\nexport type S2HeightInfo = {\n  minimumHeight: number;\n  maximumHeight: number;\n};\n\n/**\n * Converts S2HeightInfo to corner points of an oriented bounding box\n * Can be used to constuct an OrientedBoundingBox instance\n * @param tokenOrKey {string} A string that is the cell's hex token or the Hilbert quad key (containing /)\n * @param heightInfo {S2HeightInfo} min and max height of the box\n * @returns corner points of the oriented bounding box\n */\nexport function getS2OrientedBoundingBoxCornerPoints(\n  tokenOrKey: string, // This can be an S2 key or token\n  heightInfo?: S2HeightInfo\n): Vector3[] {\n  const min: number = heightInfo?.minimumHeight || 0;\n  const max: number = heightInfo?.maximumHeight || 0;\n\n  const s2cell = getS2Cell(tokenOrKey);\n  const region = getS2Region(s2cell);\n\n  // region lng/lat are in degrees\n  const W = region.west;\n  const S = region.south;\n  const E = region.east;\n  const N = region.north;\n\n  const points: Vector3[] = [];\n\n  points.push(new Vector3(W, N, min));\n  points.push(new Vector3(E, N, min));\n  points.push(new Vector3(E, S, min));\n  points.push(new Vector3(W, S, min));\n\n  points.push(new Vector3(W, N, max));\n  points.push(new Vector3(E, N, max));\n  points.push(new Vector3(E, S, max));\n  points.push(new Vector3(W, S, max));\n\n  return points;\n}\n"],"mappings":"AAAA,SAAQA,SAAS,QAAO,6BAA6B;AACrD,SAAQC,WAAW,QAAO,gBAAgB;AAC1C,SAAQC,OAAO,QAAO,eAAe;AAcrC,OAAO,SAASC,oCAAoCA,CAClDC,UAAkB,EAClBC,UAAyB,EACd;EACX,MAAMC,GAAW,GAAG,CAAAD,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEE,aAAa,KAAI,CAAC;EAClD,MAAMC,GAAW,GAAG,CAAAH,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEI,aAAa,KAAI,CAAC;EAElD,MAAMC,MAAM,GAAGV,SAAS,CAACI,UAAU,CAAC;EACpC,MAAMO,MAAM,GAAGV,WAAW,CAACS,MAAM,CAAC;EAGlC,MAAME,CAAC,GAAGD,MAAM,CAACE,IAAI;EACrB,MAAMC,CAAC,GAAGH,MAAM,CAACI,KAAK;EACtB,MAAMC,CAAC,GAAGL,MAAM,CAACM,IAAI;EACrB,MAAMC,CAAC,GAAGP,MAAM,CAACQ,KAAK;EAEtB,MAAMC,MAAiB,GAAG,EAAE;EAE5BA,MAAM,CAACC,IAAI,CAAC,IAAInB,OAAO,CAACU,CAAC,EAAEM,CAAC,EAAEZ,GAAG,CAAC,CAAC;EACnCc,MAAM,CAACC,IAAI,CAAC,IAAInB,OAAO,CAACc,CAAC,EAAEE,CAAC,EAAEZ,GAAG,CAAC,CAAC;EACnCc,MAAM,CAACC,IAAI,CAAC,IAAInB,OAAO,CAACc,CAAC,EAAEF,CAAC,EAAER,GAAG,CAAC,CAAC;EACnCc,MAAM,CAACC,IAAI,CAAC,IAAInB,OAAO,CAACU,CAAC,EAAEE,CAAC,EAAER,GAAG,CAAC,CAAC;EAEnCc,MAAM,CAACC,IAAI,CAAC,IAAInB,OAAO,CAACU,CAAC,EAAEM,CAAC,EAAEV,GAAG,CAAC,CAAC;EACnCY,MAAM,CAACC,IAAI,CAAC,IAAInB,OAAO,CAACc,CAAC,EAAEE,CAAC,EAAEV,GAAG,CAAC,CAAC;EACnCY,MAAM,CAACC,IAAI,CAAC,IAAInB,OAAO,CAACc,CAAC,EAAEF,CAAC,EAAEN,GAAG,CAAC,CAAC;EACnCY,MAAM,CAACC,IAAI,CAAC,IAAInB,OAAO,CAACU,CAAC,EAAEE,CAAC,EAAEN,GAAG,CAAC,CAAC;EAEnC,OAAOY,MAAM;AACf"}