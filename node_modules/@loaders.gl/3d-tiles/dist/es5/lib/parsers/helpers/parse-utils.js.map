{"version":3,"file":"parse-utils.js","names":["_loaderUtils","require","getStringFromArrayBuffer","arrayBuffer","byteOffset","byteLength","assert","ArrayBuffer","textDecoder","TextDecoder","typedArray","Uint8Array","string","decode","getStringFromTypedArray","isView","getMagicString","arguments","length","undefined","dataView","DataView","concat","String","fromCharCode","getUint8"],"sources":["../../../../../src/lib/parsers/helpers/parse-utils.ts"],"sourcesContent":["// This file is derived from the Cesium code base under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nimport {assert} from '@loaders.gl/loader-utils';\n\n// Decode the JSON binary array into clear text\nexport function getStringFromArrayBuffer(arrayBuffer, byteOffset, byteLength) {\n  assert(arrayBuffer instanceof ArrayBuffer);\n  const textDecoder = new TextDecoder('utf8');\n  const typedArray = new Uint8Array(arrayBuffer, byteOffset, byteLength);\n  const string = textDecoder.decode(typedArray);\n  return string;\n}\n\n// Decode the JSON binary array into clear text\nexport function getStringFromTypedArray(typedArray) {\n  assert(ArrayBuffer.isView(typedArray));\n  const textDecoder = new TextDecoder('utf8');\n  const string = textDecoder.decode(typedArray);\n  return string;\n}\n\nexport function getMagicString(arrayBuffer, byteOffset = 0) {\n  const dataView = new DataView(arrayBuffer);\n  return `\\\n${String.fromCharCode(dataView.getUint8(byteOffset + 0))}\\\n${String.fromCharCode(dataView.getUint8(byteOffset + 1))}\\\n${String.fromCharCode(dataView.getUint8(byteOffset + 2))}\\\n${String.fromCharCode(dataView.getUint8(byteOffset + 3))}`;\n}\n"],"mappings":";;;;;;;;AAGA,IAAAA,YAAA,GAAAC,OAAA;AAGO,SAASC,wBAAwBA,CAACC,WAAW,EAAEC,UAAU,EAAEC,UAAU,EAAE;EAC5E,IAAAC,mBAAM,EAACH,WAAW,YAAYI,WAAW,CAAC;EAC1C,IAAMC,WAAW,GAAG,IAAIC,WAAW,CAAC,MAAM,CAAC;EAC3C,IAAMC,UAAU,GAAG,IAAIC,UAAU,CAACR,WAAW,EAAEC,UAAU,EAAEC,UAAU,CAAC;EACtE,IAAMO,MAAM,GAAGJ,WAAW,CAACK,MAAM,CAACH,UAAU,CAAC;EAC7C,OAAOE,MAAM;AACf;AAGO,SAASE,uBAAuBA,CAACJ,UAAU,EAAE;EAClD,IAAAJ,mBAAM,EAACC,WAAW,CAACQ,MAAM,CAACL,UAAU,CAAC,CAAC;EACtC,IAAMF,WAAW,GAAG,IAAIC,WAAW,CAAC,MAAM,CAAC;EAC3C,IAAMG,MAAM,GAAGJ,WAAW,CAACK,MAAM,CAACH,UAAU,CAAC;EAC7C,OAAOE,MAAM;AACf;AAEO,SAASI,cAAcA,CAACb,WAAW,EAAkB;EAAA,IAAhBC,UAAU,GAAAa,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC;EACxD,IAAMG,QAAQ,GAAG,IAAIC,QAAQ,CAAClB,WAAW,CAAC;EAC1C,UAAAmB,MAAA,CACAC,MAAM,CAACC,YAAY,CAACJ,QAAQ,CAACK,QAAQ,CAACrB,UAAU,GAAG,CAAC,CAAC,CAAC,EAAAkB,MAAA,CACtDC,MAAM,CAACC,YAAY,CAACJ,QAAQ,CAACK,QAAQ,CAACrB,UAAU,GAAG,CAAC,CAAC,CAAC,EAAAkB,MAAA,CACtDC,MAAM,CAACC,YAAY,CAACJ,QAAQ,CAACK,QAAQ,CAACrB,UAAU,GAAG,CAAC,CAAC,CAAC,EAAAkB,MAAA,CACtDC,MAAM,CAACC,YAAY,CAACJ,QAAQ,CAACK,QAAQ,CAACrB,UAAU,GAAG,CAAC,CAAC,CAAC;AACxD"}